<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudentWork - Find Your Perfect Part-Time Job</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#1E40AF',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-2xl font-bold text-primary">StudentWork</h1>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="showSection('home')" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">Home</button>
                    <button onclick="showSection('jobs')" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">Browse Jobs</button>
                    <button onclick="showSection('post')" class="bg-primary text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-secondary">Post a Job</button>
                    <button onclick="showProfile()" class="text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">Profile</button>
                    <button onclick="toggleNotifications()" class="relative text-gray-700 hover:text-primary px-3 py-2 rounded-md text-sm font-medium">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V4a2 2 0 10-4 0v1.341C7.67 7.165 6 9.388 6 12v2.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                        </svg>
                        <span id="notificationDot" class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full hidden"></span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Notification Panel -->
    <div id="notificationPanel" class="fixed top-16 right-4 w-80 bg-white rounded-xl shadow-2xl border border-primary/20 z-50 hidden transition-all">
        <div class="p-4 border-b border-gray-100 flex justify-between items-center">
            <span class="font-bold text-primary text-lg">Notifications</span>
            <button onclick="toggleNotifications()" class="text-gray-400 hover:text-primary">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
        <div id="notificationList" class="max-h-64 overflow-y-auto p-4 space-y-3">
            
        </div>
    </div>

    <!-- Home Section -->
    <div id="home" class="section">
        <!-- Hero Section -->
        <div class="bg-gradient-to-r from-primary to-secondary text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
                <div class="text-center">
                    <h2 class="text-4xl font-extrabold sm:text-5xl">
                        Find Student-Friendly Jobs
                    </h2>
                    <p class="mt-4 text-xl">
                        Connect with flexible opportunities that fit your schedule and help you earn while you learn
                    </p>
                    <div class="mt-8">
                        <button onclick="showSection('jobs')" class="bg-white text-primary px-8 py-3 rounded-lg text-lg font-medium hover:bg-gray-100 transform hover:scale-105 transition-all">
                            Browse Jobs
                        </button>
                    </div>
                </div>
            </div>
        </div>

     <!-- Features -->
        <div class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h3 class="text-3xl font-extrabold text-gray-900">Why Choose StudentWork?</h3>
                </div>
                <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center p-6">
                        <div class="bg-primary rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h4 class="text-xl font-semibold text-gray-900">Flexible Hours</h4>
                        <p class="mt-2 text-gray-600">Jobs that work around your class schedule</p>
                    </div>
                    <div class="text-center p-6">
                        <div class="bg-primary rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                            </svg>
                        </div>
                        <h4 class="text-xl font-semibold text-gray-900">Fair Pay</h4>
                        <p class="mt-2 text-gray-600">Competitive wages for student positions</p>
                    </div>
                    <div class="text-center p-6">
                        <div class="bg-primary rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h4 class="text-xl font-semibold text-gray-900">Quick Apply</h4>
                        <p class="mt-2 text-gray-600">Simple application process</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>

    <!-- Jobs Section -->
    <div id="jobs" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900">Available Student Jobs</h2>
                <p class="text-gray-600 mt-2">Find flexible opportunities that fit your schedule</p>
            </div>

            <!-- Filters -->
            <div class="mb-6 flex flex-wrap gap-4">
                <select id="categoryFilter" class="border border-gray-300 rounded-md px-3 py-2">
                    <option value="">All Categories</option>
                    <option value="retail">Retail</option>
                    <option value="food">Food Service</option>
                    <option value="tutoring">Tutoring</option>
                    <option value="campus">Campus Jobs</option>
                    <option value="remote">Remote Work</option>
                    <option value="delivery">Delivery</option>
                </select>
                <select id="payFilter" class="border border-gray-300 rounded-md px-3 py-2">
                    <option value="">All Pay Ranges</option>
                    <option value="10-15">$10-15/hour</option>
                    <option value="15-20">$15-20/hour</option>
                    <option value="20+">$20+/hour</option>
                </select>
                <button onclick="filterJobs()" class="bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary">Apply Filters</button>
            </div>

            <!-- Job Listings -->
            <div id="jobListings" class="space-y-4">
            
            </div>
        </div>
    </div>

    <!-- Post Job  -->
    <div id="post" class="section hidden">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-6">Post a Student Job</h2>
                <form onsubmit="postJob(event)" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Job Title</label>
                        <input type="text" id="jobTitle" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Company/Organization</label>
                        <input type="text" id="company" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                            <select id="jobCategory" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                                <option value="">Select Category</option>
                                <option value="retail">Retail</option>
                                <option value="food">Food Service</option>
                                <option value="tutoring">Tutoring</option>
                                <option value="campus">Campus Jobs</option>
                                <option value="remote">Remote Work</option>
                                <option value="delivery">Delivery</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Hourly Pay ($)</label>
                            <input type="number" id="hourlyPay" required min="1" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                        <input type="text" id="location" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Job Description</label>
                        <textarea id="description" rows="4" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Requirements</label>
                        <textarea id="requirements" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Contact Email</label>
                        <input type="email" id="contactEmail" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <button type="submit" class="w-full bg-primary text-white py-3 px-4 rounded-md hover:bg-secondary font-medium">Post Job</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Profile Section -->
    <div id="profile" class="section hidden">
        <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
            <div class="relative bg-gradient-to-br from-primary via-blue-400 to-secondary rounded-3xl shadow-2xl p-1">
                <div class="bg-white rounded-2xl p-8 shadow-lg">
                    <div class="flex flex-col md:flex-row items-center md:items-start gap-8">
                        <!-- Avatar -->
                        <div class="flex-shrink-0">
                            <div class="w-24 h-24 rounded-full bg-primary flex items-center justify-center text-white text-3xl font-bold">
                                <span id="profileAvatar">ðŸ‘¤</span>
                            </div>
                        </div>
                        <div class="flex-1" id="profileContent">
                            <div>
                                <h3 class="text-xl font-semibold text-gray-900" id="profileNameDisplay">No Name Set</h3>
                                <p class="text-gray-700 mt-2" id="profileBioDisplay">No bio yet.</p>
                                <div class="mt-4">
                                    <span class="font-semibold text-gray-800">Likes:</span>
                                    <span id="profileLikesDisplay">None listed.</span>
                                </div>
                                <div class="mt-4">
                                    <span class="font-semibold text-gray-800">Email:</span>
                                    <span id="profileEmailDisplay"></span>
                                </div>
                                <div class="mt-6 flex gap-3">
                                    <button onclick="editProfile()" class="bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary">Edit Profile</button>
                                    <button onclick="logoutProfile()" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400">Logout</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold text-gray-900 mb-4">Edit Profile</h3>
            <form onsubmit="saveProfile(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                        <input type="text" id="profileName" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Bio</label>
                        <textarea id="profileBio" rows="2" class="w-full border border-gray-300 rounded-md px-3 py-2"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Likes (comma separated)</label>
                        <input type="text" id="profileLikes" class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                </div>
                <div class="mt-6 flex space-x-3">
                    <button type="submit" class="flex-1 bg-primary text-white py-2 px-4 rounded-md hover:bg-secondary">Save</button>
                    <button type="button" onclick="closeEditProfileModal()" class="flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Sign Up Page -->
    <div id="signup" class="section hidden">
        <div class="max-w-md mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Sign Up</h2>
                <form onsubmit="signup(event)" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="signupEmail" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="signupPassword" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <button type="submit" class="w-full bg-primary text-white py-3 px-4 rounded-md hover:bg-secondary font-medium">Sign Up</button>
                </form>
                <p class="mt-4 text-sm text-gray-600">Already have an account? <a href="#" onclick="showSection('login')" class="text-primary hover:underline">Login</a></p>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login" class="section hidden">
        <div class="max-w-md mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Login</h2>
                <form onsubmit="login(event)" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="loginEmail" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="loginPassword" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <button type="submit" class="w-full bg-primary text-white py-3 px-4 rounded-md hover:bg-secondary font-medium">Login</button>
                </form>
                <p class="mt-4 text-sm text-gray-600">Don't have an account? <a href="#" onclick="showSection('signup')" class="text-primary hover:underline">Sign Up</a></p>
            </div>
        </div>
    </div>

    <!-- Application Modal -->
    <div id="applicationModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold text-gray-900 mb-4">Apply for Position</h3>
            <form id="applicationForm" onsubmit="submitApplication(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                        <input type="text" id="applicantName" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="applicantEmail" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                        <input type="text" id="applicantPhone" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">School/University</label>
                        <input type="text" id="applicantSchool" required class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Available Hours per Week</label>
                        <input type="number" id="availableHours" required min="1" class="w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Why are you interested in this job?</label>
                        <textarea id="whyInterested" rows="2" required class="w-full border border-gray-300 rounded-md px-3 py-2"></textarea>
                    </div>
                </div>
                <div class="mt-6 flex space-x-3">
                    <button type="submit" class="flex-1 bg-primary text-white py-2 px-4 rounded-md hover:bg-secondary">Submit Application</button>
                    <button type="button" onclick="closeModal()" class="flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Notification with localStorage persistence
        function getNotifications() {
            return JSON.parse(localStorage.getItem('notifications') || '[]');
        }
        function setNotifications(notifs) {
            localStorage.setItem('notifications', JSON.stringify(notifs));
        }

        let notifications = getNotifications();
        if (!notifications.length) {
            notifications = [
                { id: 1, message: "Welcome to StudentWork! ðŸŽ‰", time: Date.now(), read: false },
                { id: 2, message: "New job posted: Math Tutor", time: Date.now(), read: false },
                { id: 3, message: "Your profile was updated successfully.", time: Date.now(), read: true }
            ];
            setNotifications(notifications);
        }

        function toggleNotifications() {
            const panel = document.getElementById('notificationPanel');
            panel.classList.toggle('hidden');
            if (!panel.classList.contains('hidden')) {
                renderNotifications();
                markNotificationsRead();
            }
        }

        function renderNotifications() {
            const list = document.getElementById('notificationList');
            if (!notifications.length) {
                list.innerHTML = `<div class="text-gray-500 text-center py-6">No notifications.</div>`;
                return;
            }
            list.innerHTML = notifications.map(n => `
                <div class="flex items-start gap-2 ${n.read ? 'opacity-60' : ''}">
                    <span class="mt-1">
                        <svg class="w-4 h-4 ${n.read ? 'text-gray-400' : 'text-primary'}" fill="currentColor" viewBox="0 0 20 20">
                            <circle cx="10" cy="10" r="10"/>
                        </svg>
                    </span>
                    <div>
                        <div class="text-sm">${n.message}</div>
                        <div class="text-xs text-gray-400">${n.time}</div>
                    </div>
                </div>
            `).join('');
            updateNotificationDot();
        }

        function markNotificationsRead() {
            notifications = notifications.map(n => ({ ...n, read: true }));
            setNotifications(notifications);
            updateNotificationDot();
        }

        function updateNotificationDot() {
            const dot = document.getElementById('notificationDot');
            const hasUnread = notifications.some(n => !n.read);
            if (hasUnread) {
                dot.classList.remove('hidden');
            } else {
                dot.classList.add('hidden');
            }
        }

        function addNotification(message) {
            notifications.unshift({
                id: Date.now(),
                message,
                time: "Just now",
                read: false
            });
            setNotifications(notifications);
            updateNotificationDot();
        }

        // --- User/Profile Logic ---
        function getUsers() {
            return JSON.parse(localStorage.getItem('users') || '[]');
        }
        function setUsers(users) {
            localStorage.setItem('users', JSON.stringify(users));
        }
        function getCurrentUser() {
            return JSON.parse(localStorage.getItem('currentUser') || 'null');
        }
        function setCurrentUser(user) {
            localStorage.setItem('currentUser', JSON.stringify(user));
        }

        function showProfile() {
            showSection('profile');
            renderProfile();
        }

        function renderProfile() {
            const user = getCurrentUser();
            if (!user) {
                showSection('login');
                return;
            }
            document.getElementById('profileNameDisplay').textContent = user.name || 'No Name Set';
            document.getElementById('profileBioDisplay').textContent = user.bio || 'No bio yet.';
            document.getElementById('profileLikesDisplay').textContent = user.likes && user.likes.length ? user.likes.join(', ') : 'None listed.';
            document.getElementById('profileEmailDisplay').textContent = user.email;
        }

        function editProfile() {
            const user = getCurrentUser();
            if (!user) return;
            document.getElementById('profileName').value = user.name || '';
            document.getElementById('profileBio').value = user.bio || '';
            document.getElementById('profileLikes').value = user.likes ? user.likes.join(', ') : '';
            document.getElementById('editProfileModal').classList.remove('hidden');
            document.getElementById('editProfileModal').classList.add('flex');
        }

        function saveProfile(event) {
            event.preventDefault();
            let user = getCurrentUser();
            if (!user) return;
            user.name = document.getElementById('profileName').value;
            user.bio = document.getElementById('profileBio').value;
            user.likes = document.getElementById('profileLikes').value.split(',').map(l => l.trim()).filter(l => l);
            setCurrentUser(user);

            let users = getUsers();
            users = users.map(u => u.email === user.email ? user : u);
            setUsers(users);

            closeEditProfileModal();
            renderProfile();
            addNotification("Your profile was updated successfully.");
        }

        function closeEditProfileModal() {
            document.getElementById('editProfileModal').classList.add('hidden');
            document.getElementById('editProfileModal').classList.remove('flex');
        }

        function logoutProfile() {
            localStorage.removeItem('currentUser');
            showSection('login');
        }

        function signup(event) {
            event.preventDefault();
            const email = document.getElementById('signupEmail').value.trim();
            const password = document.getElementById('signupPassword').value;
            let users = getUsers();
            if (users.find(u => u.email === email)) {
                alert('Email already registered.');
                return;
            }
            const user = { email, password, name: '', bio: '', likes: [] };
            users.push(user);
            setUsers(users);
            setCurrentUser(user);
            alert('Signup successful! Please complete your profile.');
            showProfile();
            addNotification("Welcome to StudentWork! ðŸŽ‰");
        }

        function login(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            let users = getUsers();
            const user = users.find(u => u.email === email && u.password === password);
            if (!user) {
                alert('Invalid email or password.');
                return;
            }
            setCurrentUser(user);
            showProfile();
        }

        function showSection(section) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.getElementById(section).classList.remove('hidden');
            if (section === 'jobs') displayJobs(jobs);
            if (section === 'profile') renderProfile();
        }

        // --- Job Board  ---
        let jobs = [
            {
                id: 1,
                title: "Campus Library Assistant",
                company: "University Library",
                category: "campus",
                pay: 12,
                location: "On Campus",
                description: "Help students find resources, organize books, and assist with computer lab. Perfect for students who enjoy helping others and working in a quiet environment.",
                requirements: "Must be enrolled student, basic computer skills, friendly attitude",
                contact: "library@university.edu",
                posted: "2 days ago"
            },
            {
                id: 2,
                title: "Barista",
                company: "Campus Coffee Co.",
                category: "food",
                pay: 15,
                location: "Student Union Building",
                description: "Prepare coffee drinks, serve pastries, and provide excellent customer service. Flexible scheduling around classes. Training provided.",
                requirements: "Customer service experience preferred, availability for morning or afternoon shifts",
                contact: "hiring@campuscoffee.com",
                posted: "1 day ago"
            },
            {
                id: 3,
                title: "Math Tutor",
                company: "Academic Success Center",
                category: "tutoring",
                pay: 18,
                location: "Campus Tutoring Center",
                description: "Provide one-on-one and small group tutoring for calculus and algebra students. Set your own schedule based on availability.",
                requirements: "B+ or higher in relevant math courses, strong communication skills",
                contact: "tutoring@university.edu",
                posted: "3 days ago"
            },
            {
                id: 4,
                title: "Retail Sales Associate",
                company: "Campus Bookstore",
                category: "retail",
                pay: 13,
                location: "University Bookstore",
                description: "Assist customers with textbook purchases, merchandise, and general inquiries. Great employee discount on school supplies and clothing.",
                requirements: "Reliable, customer-focused, able to work weekends",
                contact: "bookstore@university.edu",
                posted: "5 days ago"
            },
            {
                id: 5,
                title: "Virtual Assistant",
                company: "Local Business Solutions",
                category: "remote",
                pay: 16,
                location: "Remote",
                description: "Help small businesses with email management, scheduling, and basic administrative tasks. Work from anywhere with internet connection.",
                requirements: "Strong organizational skills, proficiency in Microsoft Office or Google Workspace",
                contact: "jobs@localbizhelp.com",
                posted: "1 week ago"
            },
            {
                id: 6,
                title: "Food Delivery Driver",
                company: "Campus Eats",
                category: "delivery",
                pay: 14,
                location: "Campus Area",
                description: "Deliver food orders to students and faculty. Use your own vehicle or bike. Keep 100% of tips plus hourly wage.",
                requirements: "Valid driver's license, reliable transportation, smartphone",
                contact: "drivers@campuseats.com",
                posted: "4 days ago"
            },
            {
                id: 7,
                title: "Research Assistant",
                company: "Psychology Department",
                category: "campus",
                pay: 15,
                location: "Psychology Building",
                description: "Assist professors with research data collection and analysis. Great experience for students interested in graduate school.",
                requirements: "Psychology major preferred, attention to detail, data entry experience helpful",
                contact: "research@psych.university.edu",
                posted: "1 week ago"
            },
            {
                id: 8,
                title: "Customer Service Rep",
                company: "Student Tech Support",
                category: "campus",
                pay: 16,
                location: "IT Help Desk",
                description: "Help students and staff with technology issues, password resets, and software questions. Technical training provided.",
                requirements: "Basic computer knowledge, patience, problem-solving skills",
                contact: "techsupport@university.edu",
                posted: "6 days ago"
            }
        ];

        let currentJobId = null;

        function displayJobs(jobsToShow) {
            const container = document.getElementById('jobListings');
            container.innerHTML = '';

            jobsToShow.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow';
                jobCard.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-xl font-bold text-gray-900">${job.title}</h3>
                            <div class="text-gray-600">${job.company}</div>
                        </div>
                        <span class="bg-primary text-white text-xs px-3 py-1 rounded-full">${job.category.charAt(0).toUpperCase() + job.category.slice(1)}</span>
                    </div>
                    <div class="mb-4">
                        <div class="text-gray-700 mb-2">${job.description}</div>
                        <div class="text-sm text-gray-500">Location: ${job.location}</div>
                        <div class="text-sm text-gray-500">Pay: $${job.pay}/hour</div>
                        <div class="text-sm text-gray-500">Posted: ${job.posted}</div>
                    </div>
                    <div class="flex justify-between items-center">
                        <button onclick="openApplicationModal(${job.id})" class="bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary">Apply</button>
                        <span class="text-xs text-gray-400">Contact: ${job.contact}</span>
                    </div>
                `;
                container.appendChild(jobCard);
            });
        }

        function filterJobs() {
            const categoryFilter = document.getElementById('categoryFilter').value;
            const payFilter = document.getElementById('payFilter').value;

            let filteredJobs = jobs.filter(job => {
                let matchesCategory = !categoryFilter || job.category === categoryFilter;
                let matchesPay = true;

                if (payFilter) {
                    if (payFilter === '10-15') {
                        matchesPay = job.pay >= 10 && job.pay <= 15;
                    } else if (payFilter === '15-20') {
                        matchesPay = job.pay > 15 && job.pay <= 20;
                    } else if (payFilter === '20+') {
                        matchesPay = job.pay > 20;
                    }
                }

                return matchesCategory && matchesPay;
            });

            displayJobs(filteredJobs);
        }

        function openApplicationModal(jobId) {
            currentJobId = jobId;
            document.getElementById('applicationModal').classList.remove('hidden');
            document.getElementById('applicationModal').classList.add('flex');
            // Reset form fields
            document.getElementById('applicationForm').reset();
        }

        function closeModal() {
            document.getElementById('applicationModal').classList.add('hidden');
            document.getElementById('applicationModal').classList.remove('flex');
            currentJobId = null;
        }

        function postJob(event) {
            event.preventDefault();

            const newJob = {
                id: jobs.length + 1,
                title: document.getElementById('jobTitle').value,
                company: document.getElementById('company').value,
                category: document.getElementById('jobCategory').value,
                pay: parseInt(document.getElementById('hourlyPay').value),
                location: document.getElementById('location').value,
                description: document.getElementById('description').value,
                requirements: document.getElementById('requirements').value,
                contact: document.getElementById('contactEmail').value,
                posted: 'Just posted'
            };

            jobs.unshift(newJob);

            alert('Job posted successfully! It will appear in the job listings.');
            event.target.reset();
            showSection('jobs');
            addNotification(`New job posted: ${newJob.title}`);
        }

        // --- Application Submission Logic ---
        function submitApplication(event) {
            event.preventDefault();

            // Get applicant info
            const name = document.getElementById('applicantName').value.trim();
            const email = document.getElementById('applicantEmail').value.trim();
            const phone = document.getElementById('applicantPhone').value.trim();
            const school = document.getElementById('applicantSchool').value.trim();
            const hours = document.getElementById('availableHours').value.trim();
            const why = document.getElementById('whyInterested').value.trim();

            // Basic validation
            if (!name || !email || !phone || !school || !hours || !why) {
                alert('Please fill in all fields.');
                return;
            }

            // Find job title for notification
            const job = jobs.find(j => j.id === currentJobId);
            const jobTitle = job ? job.title : 'the job';

            // Notify application submitted
            addNotification(`You applied for: ${jobTitle}`);

            
            setTimeout(() => {
                const rejected = Math.random() < 0.5; 
                if (rejected) {
                    addNotification(`Your application for ${jobTitle} was rejected.`);
                    alert('Sorry, your application was not successful this time.');
                } else {
                    addNotification(`Congratulations! Your application for ${jobTitle} was accepted.`);
                    alert('Your application was submitted successfully!');
                }
            }, 1000);

            // Close modal and reset form
            closeModal();
            event.target.reset();
        }

        // --- Welcome Message 
        window.addEventListener('DOMContentLoaded', () => {
            notifications = getNotifications();
            updateNotificationDot();
            
            const userName = getCurrentUser() && getCurrentUser().name ? getCurrentUser().name : '';
            addNotification(`${userName} Welcome to  StudentWork ðŸ’—ðŸ¤—!`);
            const user = getCurrentUser();
            if (user) {
                showProfile();
            } else {
                showSection('login');
            }
            updateNotificationDot();
        });

        showSection('home');
    </script>
</body>
</html>